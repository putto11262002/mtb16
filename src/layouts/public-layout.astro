---
// src/layouts/PublicLayout.astro
import BaseLayout from "@/layouts/base-layout.astro";
import Header from "@/components/layouts/public/header.astro";
import Footer from "@/components/layouts/public/footer.astro";
import { GreetingPopup } from "@/components/layouts/public/greeting-popup";
import { configUsecase } from "@/core/config/usecase";
import { Config } from "@/config";
const config = await configUsecase.getGlobalSettings({});
---

<BaseLayout>
  <slot name="head" />
  <Fragment slot="body">
    {
      config?.popupImage && config.popupEnabled && (
        <GreetingPopup
          imageURL={Config.getFileURL(config.popupImage.id)}
          client:load
        />
      )
    }
    <Header />
    <slot name="body" />
    <Footer />
  </Fragment>
</BaseLayout>
