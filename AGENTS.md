This file outlines the project structure, technologies used, conventions, rules for contributing to the codebase.
Agents must strictly thoroughly read and ADHERE to the rules and conventions outlined in this document.

## How to use this document
- Deeply understand the project structure, techology used, rules, and dev workflow before starting any work.
- When working on specifc technologies e.g. server actions, ui, orm. You MUST read the relevant sections and further read the linked documents.

## Tech
The project uses the following technologies:
- Language: TypeScript 5
- Frontend: Astro 5.13.5, React 19.1.1
- UI Library: Tailwind CSS 4.1.12
- UI Components: Shadcn UI (CLI managed)
- Backend: Astro server actions
- Database: Drizzle ORM 0.44.5, PostgreSQL 8.16.3
- Hosting: Netlify
- Package management: pnpm
- Version control: Git, GitHub


## Commands

- `pnpm dev`: Start the development server
- `pnpm build`: Build the project for production
- `pnpm preview`: Preview the production build locally
- `pnpm lint`: Lint the codebase
- `bash ./scripts/setup-postgres.sh`: Setup a local PostgreSQL database using Docker

## Project Structure

- `src/components`: Reusable UI components
    - `src/components/ui`: Shadcn UI components. This is auto-generated by shadcn cli.
    - `src/components/islands/server`: Astro server islands components
    - `src/components/islands/client`: Astro client islands components
- `src/pages`: Astro pages and routes
- `src/layouts`: Layout components
- `src/lib`: Utility functions and libraries
- `src/styles`: Global styles and Tailwind configuration
- `src/db`: Database schema and migration files (`index.ts` contains the Drizzle DB instance, `schema.ts` exports table objects and types)
- `src/lib/auth`: Better Auth server and client instances
- `src/middleware.ts`: Astro middleware for authentication context
- `src/core`: Core application logic that is framework-agnostic. Organized by feature.
    - `src/core/feature`: Each feature has its own folder containing components, hooks, and related logic.
- `src/actions`: Astro server actions
    - `src/actions/index.ts`: Aggregates all server actions
    - `src/actions/<feature>/actions.ts`: Defines actions for a specific feature
    - `src/actions/<feature>/schema.ts`: Zod schemas for action input validation
- `scripts`: Helper scripts for setup and maintenance


## Rules and Conventions

## Typescript
- Use `interface` for defining object shapes
- Use `type` for union and intersection types
- Prefer `readonly` for immutable data structures
- Use `unknown` instead of `any` whenever possible
- Use `async/await` for asynchronous code
- Use `Promise.all` for concurrent asynchronous operations
- Use `const` for variables that are not reassigned
- ALWAYS type your functions and components, never rely on inference

## Import rules
   - Use ES module syntax (`import`/`export`)
   - Use @/ alias for absolute imports from `src` e.g. `import Button from '@/components/Button'`




